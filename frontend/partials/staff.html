<!-- Dashboard Counts Section-->
<link rel="stylesheet" href="assets/css/staff.css" id="theme-stylesheet">
<div ng-controller="staffController">

	<header class="page-header">
            <div class="container-fluid">
              <h2 class="no-margin-bottom" style="float: left;">{{view.title}}</h2>
			  <button type="button" ng-click="refresh()" style="float: right;" class=="btn btn-link"><i class="fa fa-refresh"></i></button>
			  <div style="clear:both;"/>
			</div>
	</header>
	<div class="tables form-addstaff-button"> 
        <div class="container-fluid">
            <div class="row">
				<div class="col-lg-3">  
					<button type="button" class="btn btn-warning btn-md" data-target="#addstaff" aria-expanded="false" data-toggle="collapse"><i class="fa fa-plus"></i> Add Staff</button>
				</div>
			</div>
		</div>
	</div>
  
   <div class="tables collapse" id="addstaff"> 
        <div class="container-fluid">
            <div class="row">
			   <div class="col-lg-12">                           
                  <div class="card">
					<div class="card-close">
                      <div class="dropdown">
						<small class="response-text">{{addstaff_response}}</small>
						<button type="button" class="btn btn-success" ng-click="addStaff(staff)"><i class="fa fa-check"></i> Submit</button>
						<button type="button" data-toggle="collapse" data-target="#addstaff" class="btn btn-link btn-danger"><i class="fa fa-close"></i></button>
                      </div>
                    </div>
                    <div class="card-header d-flex align-items-center">
                      <label class="form-header-text">Please fill the details</label>
                    </div>
                    <div class="card-body" ng-click="clearResponse()">
                      <form class="form-inline">
                        <div class="form-group col-lg-4">
                          <label for="inlineFormInput" class="sr-only">Staff Id</label>
                          <input id="inlineFormInput" type="text" placeholder="Staff ID" class="mx-sm-6 form-control" ng-model="staff.id">
                        </div>
                        <div class="form-group col-lg-4">
                          <label for="inlineFormInputGroup" class="sr-only">First Name</label>
                          <input id="inlineFormInputGroup" type="text" placeholder="First Name" class="mx-sm-6 form-control form-control" ng-model="staff.firstname">
                        </div>
						<div class="form-group col-lg-4">
                          <label for="inlineFormInputGroup" class="sr-only">Last Name</label>
                          <input id="inlineFormInputGroup" type="text" placeholder="Last Name" class="mx-sm-6 form-control form-control" ng-model="staff.lastname">
                        </div>
                      </form>
					  <div style="min-height:10px"/>
					  <form class="form-inline">
                        <div class="form-group col-lg-4">
                          <label for="inlineFormInput" class="sr-only">Role</label>
                          <input id="inlineFormInput" type="text" placeholder="Role" autocomplete="on" style="text-transform:uppercase" class="mx-sm-6 form-control" ng-model="staff.role">
                        </div>
                        <div class="form-group col-lg-4">
                          <label for="inlineFormInputGroup" class="sr-only">Contact</label>
                          <input id="inlineFormInputGroup" type="number" placeholder="Contact" class="mx-sm-6 form-control form-control" ng-model="staff.contact">
                        </div>
						<div class="form-group col-lg-4">
                          <label for="inlineFormInputGroup" class="sr-only">Password</label>
                          <input id="inlineFormInputGroup" type="password" placeholder="Password" class="mx-sm-6 form-control form-control" ng-model="staff.password">
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
			  
			</div>  
		</div>	  
	</div>
	
   <div class="tables" ng-if="registeredStaff.length">  
		<div class="container-fluid">
			<div class="row">
			
			 <div class="col-lg-12">
                  <div class="card">
				    <div class="card-header d-flex align-items-center">
                      <h3 class="form-header-text">Registered Staffs</h3>
                    </div>
                    <div class="card-body">
                      <table class="table">
                        <thead>
                          <tr>
                            <th>#</th>
							<th>UserId</th>
							<th>First Name</th>
                            <th>Last Name</th>
                            <th>Role</th>
							<th>Contact</th>
							<th> </th>
							<th>Actions</th>
							
                           
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="(index,hotelstaff) in registeredStaff">
                            <th scope="row">{{index + 1}}</th>
							<td>{{hotelstaff.id}}</td>
                            <td>{{hotelstaff.firstname}}</td>
                            <td>{{hotelstaff.lastname}}</td>
							<td>{{hotelstaff.role}}</td>
                            <td>{{hotelstaff.contact}}</td>
							<td>
							<td>
								<button ng-click="editStaff(index)" data-toggle="modal" data-target="#mystaffModal" type="button" class="btn-link"><i class="fa fa-pencil"></i></button>
								<button ng-click="deleteStaff(index)" type="button" class="btn-link"><i class="fa fa-trash"></i></button>
							</td>
						   </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
			
			</div>
		</div>
   </div>
   	<!-- Modal-->
	<div class="card-body text-center modalclass">
	  <div id="mystaffModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modal fade text-left">
		<div role="document" class="modal-dialog" ng-click="modal_response = ''">
		  <div class="modal-content">
			<div class="modal-header">
			  <label class="form-header-text">Enter Details</label>
			  <button type="button" data-dismiss="modal" aria-label="Close" class="close"><span aria-hidden="true">Ã—</span></button>
			</div>
			<div class="modal-body">
			  <form>
				<div class="form-group">       
				  <input type="text" placeholder="First Name" class="form-control" ng-model="newstaff.id">
				</div>
				<div class="form-group">       
				  <input type="text" placeholder="First Name" class="form-control" ng-model="newstaff.firstname">
				</div>
				<div class="form-group">       
				  <input type="text" placeholder="Last Name" class="form-control" ng-model="newstaff.lastname">
				</div>
				<div class="form-group">       
				  <input type="text" placeholder="Role" class="form-control" ng-model="newstaff.role" style="text-transform:uppercase">
				</div>
				<div class="form-group">       
				  <input type="text" placeholder="Contact" class="form-control" ng-model="newstaff.contact">
				</div>     
				<div class="form-group"> 				
					<small class="response-text">{{modal_response}}</small>
				</div>
				<div class="modal-footer">
				  <button type="button" data-dismiss="modal" class="btn btn-secondary"><i class="fa fa-close"> Close</i></button>
				  <button type="button" class="btn btn-success" ng-click="updateStaff(newstaff,newStaffIndex)"><i class="fa fa-check"> Save changes</i></button>
				</div>
			  </form>
			</div>
			
		  </div>
		</div>
	  </div>
	</div>
</div>